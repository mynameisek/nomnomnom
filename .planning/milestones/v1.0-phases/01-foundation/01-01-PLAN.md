---
phase: 01-foundation
plan: 01
type: execute
wave: 1
depends_on: []
files_modified:
  - app/layout.tsx
  - app/page.tsx
  - app/globals.css
  - components/layout/Nav.tsx
  - components/layout/Footer.tsx
  - lib/supabase.ts
  - postcss.config.mjs
  - next.config.ts
  - .env.local
  - .gitignore
autonomous: false
requirements:
  - LAYOUT-01
  - LAYOUT-02
  - LAYOUT-03
  - LAYOUT-04
  - LAYOUT-05
  - DEPLOY-01
  - DEPLOY-02

user_setup:
  - service: vercel
    why: "Hosting and CI/CD deployment"
    env_vars: []
    dashboard_config:
      - task: "Import the GitHub repository into Vercel"
        location: "vercel.com/new → Import Git Repository"
  - service: supabase
    why: "Backend database for waitlist (Phase 3), env vars configured now"
    env_vars:
      - name: NEXT_PUBLIC_SUPABASE_URL
        source: "Supabase Dashboard → Project Settings → API → Project URL"
      - name: NEXT_PUBLIC_SUPABASE_ANON_KEY
        source: "Supabase Dashboard → Project Settings → API → anon/public key"
    dashboard_config:
      - task: "Create a Supabase project (or use existing)"
        location: "supabase.com/dashboard → New Project"
      - task: "Add NEXT_PUBLIC_SUPABASE_URL and NEXT_PUBLIC_SUPABASE_ANON_KEY to Vercel environment variables"
        location: "Vercel Dashboard → Project Settings → Environment Variables"

must_haves:
  truths:
    - "Visiting the Vercel URL shows a dark-themed page (#09090B background) with the NŌM logo in the nav and a footer"
    - "Brand colors (#FF6B35 orange, #E8453C red, #42D392 green) are available as Tailwind utility classes and render correctly"
    - "Outfit font renders on all text elements with no fallback flash (FOUT)"
    - "The fixed nav bar remains visible while scrolling on both mobile (320px) and desktop viewports"
    - "The CTA button 'Rejoindre la liste d'attente' is visible in the nav on all breakpoints"
    - "Footer displays NŌM branding and copyright"
    - "Supabase environment variables are set in Vercel dashboard; no secrets exist in the git repository"
  artifacts:
    - path: "app/globals.css"
      provides: "Tailwind v4 @theme brand tokens, noise grain overlay, smooth scroll"
      contains: "@theme"
    - path: "app/layout.tsx"
      provides: "Root layout with Outfit font, metadata, Nav, Footer"
      contains: "Outfit"
    - path: "components/layout/Nav.tsx"
      provides: "Fixed scroll-aware navigation with logo and CTA"
      contains: "use client"
    - path: "components/layout/Footer.tsx"
      provides: "Minimal footer with branding and copyright"
      contains: "NŌM"
    - path: "lib/supabase.ts"
      provides: "Supabase client singleton reading from env vars"
      contains: "createClient"
  key_links:
    - from: "app/layout.tsx"
      to: "app/globals.css"
      via: "CSS import"
      pattern: "import.*globals\\.css"
    - from: "app/layout.tsx"
      to: "components/layout/Nav.tsx"
      via: "component import"
      pattern: "import Nav"
    - from: "app/layout.tsx"
      to: "components/layout/Footer.tsx"
      via: "component import"
      pattern: "import Footer"
    - from: "app/globals.css"
      to: "Tailwind v4"
      via: "@import directive"
      pattern: "@import \"tailwindcss\""
---

<objective>
Scaffold the Next.js 16 project with Tailwind v4, configure the NŌM brand design system (dark theme, colors, Outfit font, noise grain), build the fixed Nav and Footer components, and deploy the shell to Vercel with Supabase env vars configured.

Purpose: Establish the deployed foundation — a polished dark-themed shell that Phase 2 can build content sections into. Anyone visiting the Vercel URL early should see an intentional, branded page.
Output: A live Vercel deployment showing the NŌM nav + footer shell with correct brand tokens applied.
</objective>

<execution_context>
@/Users/ekitcho/.claude/get-shit-done/workflows/execute-plan.md
@/Users/ekitcho/.claude/get-shit-done/templates/summary.md
</execution_context>

<context>
@.planning/PROJECT.md
@.planning/ROADMAP.md
@.planning/STATE.md
@.planning/phases/01-foundation/01-RESEARCH.md
</context>

<tasks>

<task type="auto">
  <name>Task 1: Scaffold Next.js 16 project and configure brand design system</name>
  <files>
    app/layout.tsx
    app/page.tsx
    app/globals.css
    postcss.config.mjs
    next.config.ts
    .gitignore
    .env.local
    lib/supabase.ts
  </files>
  <action>
    1. Bootstrap the project using `npx create-next-app@latest . --yes` (run from the project root /Users/ekitcho/Desktop/dev-claude-lab/nomnomnom). This generates the default Next.js 16 + TypeScript + Tailwind + ESLint setup with Turbopack.

    2. Install additional dependencies:
       - `npm install motion` (animation library — installed now, used in Phase 2)
       - `npm install @supabase/supabase-js` (Supabase client)

    3. Replace the generated `app/globals.css` with the brand design system:
       - `@import "tailwindcss";` (Tailwind v4 single import — NOT the old v3 `@tailwind` directives)
       - `@theme {}` block defining:
         - `--color-brand-bg: #09090B` (near-black background)
         - `--color-brand-orange: #FF6B35` (primary accent, CTAs)
         - `--color-brand-red: #E8453C` (secondary accent)
         - `--color-brand-green: #42D392` (success/highlight)
         - `--color-brand-white: #FAFAFA` (text)
         - `--color-brand-muted: #71717A` (secondary text)
         - `--font-sans: var(--font-outfit), ui-sans-serif, system-ui, sans-serif`
         - `--max-width-content: 1200px`
       - `html { scroll-behavior: smooth; }` base rule
       - `body::before` noise grain overlay using SVG feTurbulence data URI at 0.035 opacity with mix-blend-mode: overlay and pointer-events: none. Use `position: fixed; inset: 0; z-index: 0;`.

    4. Replace `app/layout.tsx`:
       - Import Outfit from `next/font/google` with subsets: ['latin'], weight: ['400','500','600','700'], variable: '--font-outfit', display: 'swap'
       - Export metadata: title 'NŌM — Découvrez chaque menu', description in French, openGraph with locale 'fr_FR'
       - `<html lang="fr" className={outfit.variable} data-scroll-behavior="smooth">`
       - `<body className="bg-brand-bg text-brand-white font-sans antialiased min-h-screen">`
       - Import and render Nav above `<main className="pt-16">{children}</main>` and Footer below
       - Import `./globals.css`

    5. Replace `app/page.tsx` with a minimal empty shell — just return an empty `<></>` fragment or a `<div />`. No placeholder content. The page should show only the nav and footer.

    6. Verify `postcss.config.mjs` exists and contains `@tailwindcss/postcss` plugin. If create-next-app generated it correctly, leave as-is. If not, create it with:
       ```js
       const config = { plugins: { '@tailwindcss/postcss': {} } }
       export default config
       ```

    7. Create `lib/supabase.ts`:
       - Import `createClient` from `@supabase/supabase-js`
       - Read `NEXT_PUBLIC_SUPABASE_URL` and `NEXT_PUBLIC_SUPABASE_ANON_KEY` from `process.env`
       - Export the client singleton
       - This file validates env vars exist at import time; actual Supabase calls come in Phase 3

    8. Create `.env.local` with placeholder values:
       ```
       NEXT_PUBLIC_SUPABASE_URL=https://your-project.supabase.co
       NEXT_PUBLIC_SUPABASE_ANON_KEY=your-anon-key-here
       ```

    9. Verify `.gitignore` includes `.env*.local` (create-next-app should handle this). If missing, add it.

    10. Run `npm run dev` and verify the dev server starts without errors. Run `npm run build` to confirm production build succeeds.
  </action>
  <verify>
    - `npm run build` completes without errors
    - `globals.css` contains `@import "tailwindcss"` and `@theme` block with all 6 brand colors
    - `layout.tsx` imports Outfit font with `variable: '--font-outfit'`
    - `layout.tsx` has `data-scroll-behavior="smooth"` on `<html>`
    - `.env.local` exists but is excluded from git (`git status` does not show it)
    - `lib/supabase.ts` exports a supabase client
  </verify>
  <done>
    Project scaffolded with Next.js 16 + Tailwind v4 + motion + Supabase. Brand tokens (6 colors, Outfit font, max-width, noise grain) defined in globals.css via @theme. Dev server and production build both succeed.
  </done>
</task>

<task type="auto">
  <name>Task 2: Build Nav and Footer components</name>
  <files>
    components/layout/Nav.tsx
    components/layout/Footer.tsx
  </files>
  <action>
    1. Create `components/layout/Nav.tsx` as a `"use client"` component:
       - Import `useEffect`, `useState` from React
       - State: `scrolled` boolean, default false
       - useEffect: listen to `window.scroll` with `{ passive: true }`, set `scrolled = window.scrollY > 20`
       - Cleanup: remove event listener on unmount
       - Render `<header>` with:
         - `fixed top-0 left-0 right-0 z-50 transition-all duration-300`
         - When scrolled: `bg-brand-bg/90 backdrop-blur-md border-b border-white/5`
         - When not scrolled: `bg-transparent`
       - Inner `<div>` with `mx-auto max-w-content px-6 h-16 flex items-center justify-between`
         (Note: `max-w-content` uses the custom `--max-width-content: 1200px` token from @theme)
       - Left side: `<span className="font-bold text-xl text-brand-white tracking-tight">NŌM</span>` (text logo with Outfit font, weight 700)
       - Right side: `<button className="bg-brand-orange hover:bg-brand-orange/90 text-white px-4 py-2 rounded-lg text-sm font-medium transition-colors">Rejoindre la liste d'attente</button>`
       - The CTA button is a visual placeholder — no onClick handler needed yet (wired in Phase 3)

    2. Create `components/layout/Footer.tsx` as a Server Component (no "use client"):
       - Render `<footer>` with `border-t border-white/5 mt-auto`
       - Inner `<div>` with `mx-auto max-w-content px-6 py-12 flex flex-col items-center gap-4`
       - NŌM text logo: `<span className="font-bold text-lg text-brand-white tracking-tight">NŌM</span>`
       - Tagline: `<p className="text-brand-muted text-sm">Chaque plat a une histoire.</p>`
       - Copyright: `<p className="text-brand-muted text-xs">© 2026 NŌM. Tous droits réservés.</p>`
       - Made with love line: `<p className="text-brand-muted text-xs">Fait avec ❤️ à Strasbourg</p>`

    3. Ensure layout.tsx imports both components correctly:
       - `import Nav from '@/components/layout/Nav'`
       - `import Footer from '@/components/layout/Footer'`
       - These imports should already exist from Task 1. Verify they resolve correctly.

    4. Run `npm run build` to confirm no TypeScript or import errors.
  </action>
  <verify>
    - `npm run build` succeeds
    - `components/layout/Nav.tsx` starts with `'use client'` and contains scroll detection logic
    - `components/layout/Footer.tsx` does NOT have `'use client'` (Server Component)
    - `Nav.tsx` renders a `<header>` with `fixed` positioning and the CTA button text "Rejoindre la liste d'attente"
    - `Footer.tsx` renders copyright and "NŌM" branding
    - Running `npm run dev` and opening localhost shows the nav at top and footer at bottom on a dark background
  </verify>
  <done>
    Fixed Nav component with scroll-aware backdrop blur and CTA button. Minimal Footer with branding, tagline, copyright, and city. Both render correctly in the layout on all breakpoints (mobile 320px+ through desktop).
  </done>
</task>

<task type="auto">
  <name>Task 3: Initialize git repo, push to GitHub, deploy to Vercel</name>
  <files>
    .gitignore
  </files>
  <action>
    1. Initialize a git repository: `git init`
    2. Verify `.gitignore` excludes `.env*.local`, `node_modules/`, `.next/`
    3. Stage all project files and create the initial commit:
       `git add -A && git commit -m "feat(01-foundation): scaffold Next.js 16 shell with NŌM brand design system"`
    4. Create a GitHub repository using the gh CLI:
       `gh repo create nomnomnom --public --source=. --push`
       (If the repo already exists, just add the remote and push)
    5. Deploy to Vercel using the Vercel CLI:
       `npx vercel --yes`
       This creates the Vercel project and triggers the first deployment.
    6. Note the deployment URL from the Vercel CLI output.
    7. Run `npx vercel --prod --yes` to promote to production deployment.
  </action>
  <verify>
    - `git log --oneline` shows at least one commit
    - `gh repo view --json url` returns the GitHub repo URL
    - `npx vercel ls` shows a deployment
    - `.env.local` does NOT appear in `git ls-files`
  </verify>
  <done>
    Code pushed to GitHub. Vercel deployment is live and accessible at the production URL. No secrets in the repository.
  </done>
</task>

<task type="checkpoint:human-verify" gate="blocking">
  <name>Task 4: Verify deployed shell visually</name>
  <files></files>
  <action>
    Present the Vercel deployment URL to the user and ask them to verify the deployed shell visually. Claude has already automated the deployment in Task 3.
  </action>
  <verify>
    User confirms all visual and functional checks pass.
  </verify>
  <done>
    User has approved the deployed shell: dark theme, NŌM nav with CTA, footer, Outfit font, responsive layout, and Supabase env vars configured in Vercel.
  </done>
  <what-built>
    Complete NŌM branded shell: Next.js 16 project with Tailwind v4 brand tokens (dark theme #09090B, orange #FF6B35, red #E8453C, green #42D392), Outfit font, fixed nav with scroll-aware blur and CTA button, minimal footer with branding, noise grain overlay, smooth scroll enabled. Deployed to Vercel with GitHub CI/CD.
  </what-built>
  <how-to-verify>
    1. Open the Vercel deployment URL in a browser
    2. Verify the page has a dark (#09090B) background — not white, not pure black
    3. Verify the nav bar shows "NŌM" logo on the left and "Rejoindre la liste d'attente" orange button on the right
    4. Scroll down — verify the nav stays fixed at the top and gains a subtle blur/darkened backdrop
    5. Verify the Outfit font is rendering (check browser DevTools → Computed → font-family should show "Outfit")
    6. Verify the footer shows "NŌM", tagline, copyright, and city line
    7. Resize to 320px width (mobile) — verify nav and footer still render correctly, CTA button is visible
    8. Check Vercel Dashboard → Project Settings → Environment Variables: add NEXT_PUBLIC_SUPABASE_URL and NEXT_PUBLIC_SUPABASE_ANON_KEY from your Supabase project (if not done already)
    9. Verify `.env.local` is NOT in the GitHub repository (check repo files on github.com)
  </how-to-verify>
  <resume-signal>Type "approved" if all checks pass, or describe any issues to fix</resume-signal>
</task>

</tasks>

<verification>
Phase 1 is complete when:
1. `npm run build` succeeds with zero errors
2. The Vercel deployment URL is live and accessible
3. Dark theme (#09090B background) renders correctly
4. Brand colors are available as Tailwind utilities (`bg-brand-orange`, `text-brand-green`, etc.)
5. Outfit font loads without FOUT on all text
6. Fixed nav with "NŌM" logo and "Rejoindre la liste d'attente" CTA is visible and scroll-aware
7. Footer with branding and copyright is visible
8. Responsive layout works from 320px to desktop
9. No secrets in the git repository (`.env.local` in `.gitignore`)
10. Supabase env vars configured in Vercel dashboard
</verification>

<success_criteria>
- Visiting the Vercel URL shows a polished dark-themed page with NŌM nav and footer
- All brand colors render correctly across breakpoints
- Outfit font renders without fallback flash
- Fixed nav remains visible during scroll on mobile and desktop
- Supabase env vars secured in Vercel (not in git)
- `npm run build` passes
</success_criteria>

<output>
After completion, create `.planning/phases/01-foundation/01-01-SUMMARY.md`
</output>
