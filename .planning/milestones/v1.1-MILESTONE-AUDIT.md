---
milestone: v1.1
audited: 2026-02-28
status: tech_debt
scores:
  requirements: 23/23
  phases: 6/6
  integration: 23/23
  flows: 5/5
gaps:
  requirements: []
  integration: []
  flows: []
tech_debt:
  - phase: 08-eazee-link-translation-fix
    items:
      - "translateEazeeLinkDishes exported from lib/openai.ts but zero callers — dead code from architecture shift to lazy /api/translate path"
      - "MENU_PARSE_SYSTEM_PROMPT exported but unused — photo route uses MENU_PARSE_FAST_PROMPT instead"
  - phase: 04-infrastructure-foundation
    items:
      - "parseDishesFromMenu exported from lib/openai.ts but superseded by parseDishesFromMenuFast"
  - phase: 05-scan-pipeline
    items:
      - "Dead import: lib/cache.ts line 13 imports parseDishesFromMenu but only calls parseDishesFromMenuFast"
  - phase: 09-tech-debt-cleanup
    items:
      - "ROADMAP.md Phase 9 bullet and plan bullet still unchecked ([ ])"
  - phase: 06-dish-cards-and-filters
    items:
      - "DISH-05 disclaimer uses 'confirmez aupres du serveur' instead of literal 'demandez au serveur' — semantically equivalent, flagged for product owner review"
---

# Milestone v1.1 MVP App — Audit Report (Re-audit)

**Audited:** 2026-02-28
**Previous audit:** 2026-02-25 (gaps_found — DISH-02 partial, Phase 5 unverified, ALLOWED_MODELS duplication, Menu type incomplete)
**Status:** tech_debt (all requirements satisfied, no critical blockers, accumulated dead code from architecture evolution)

---

## Executive Summary

All 6 phases (4-9) are code-complete with 10 plans executed. **All 23 requirements are fully satisfied.** The gaps identified in the previous audit (2026-02-25) have been resolved:

- **DISH-02 (eazee-link translation):** Fixed in Phase 8 — lazy translation via `/api/translate` now provides FR/EN/TR/DE translations for all menu sources including eazee-link
- **Phase 5 VERIFICATION.md:** Created in Phase 9 — 6/6 requirements verified
- **ALLOWED_MODELS duplication:** Fixed in Phase 9 — single source in `lib/models.ts`
- **Menu type incomplete:** Fixed in Phase 9 — `hit_count` and `parse_time_ms` added
- **REQUIREMENTS.md checkboxes:** Fixed in Phase 9 — 23/23 checked

Remaining items are dead code from architecture evolution (no runtime impact) and one wording review.

---

## Requirements Coverage — 3-Source Cross-Reference (23/23)

| REQ-ID | VERIFICATION.md | REQUIREMENTS.md | Final Status |
|--------|----------------|-----------------|--------------|
| SCAN-01 | Phase 5: SATISFIED | [x] Complete | **satisfied** |
| SCAN-02 | Phase 5: SATISFIED | [x] Complete | **satisfied** |
| SCAN-03 | Phase 5: SATISFIED | [x] Complete | **satisfied** |
| SCAN-04 | Phase 5: SATISFIED | [x] Complete | **satisfied** |
| SCAN-05 | Phase 5: SATISFIED | [x] Complete | **satisfied** |
| DISH-01 | Phase 6: SATISFIED | [x] Complete | **satisfied** |
| DISH-02 | Phase 6+8: SATISFIED | [x] Complete | **satisfied** |
| DISH-03 | Phase 6: SATISFIED | [x] Complete | **satisfied** |
| DISH-04 | Phase 6: SATISFIED | [x] Complete | **satisfied** |
| DISH-05 | Phase 6: SATISFIED* | [x] Complete | **satisfied** |
| DISH-06 | Phase 6: SATISFIED | [x] Complete | **satisfied** |
| FILT-01 | Phase 6: SATISFIED | [x] Complete | **satisfied** |
| FILT-02 | Phase 6: SATISFIED | [x] Complete | **satisfied** |
| FILT-03 | Phase 6: SATISFIED | [x] Complete | **satisfied** |
| FILT-04 | Phase 6: SATISFIED | [x] Complete | **satisfied** |
| ADMN-01 | Phase 7: SATISFIED | [x] Complete | **satisfied** |
| ADMN-02 | Phase 7: SATISFIED | [x] Complete | **satisfied** |
| ADMN-03 | Phase 7: SATISFIED | [x] Complete | **satisfied** |
| INFR-01 | Phase 4: SATISFIED | [x] Complete | **satisfied** |
| INFR-02 | Phase 4: SATISFIED | [x] Complete | **satisfied** |
| INFR-03 | Phase 4: SATISFIED | [x] Complete | **satisfied** |
| INFR-04 | Phase 5: SATISFIED | [x] Complete | **satisfied** |
| INFR-05 | Phase 7: SATISFIED | [x] Complete | **satisfied** |

*DISH-05: FR disclaimer uses "confirmez aupres du serveur" instead of literal "demandez au serveur" — semantically equivalent. Flagged for product owner review in Phase 6 VERIFICATION.md.

**Orphaned requirements:** None.

---

## Phase Verification Summary (6/6)

| Phase | VERIFICATION.md | Status | Score | Human Items |
|-------|-----------------|--------|-------|-------------|
| 4. Infrastructure Foundation | EXISTS | passed | 10/10 | 2 |
| 5. Scan Pipeline | EXISTS | passed | 6/6 | 5 |
| 6. Dish Cards and Filters | EXISTS | human_needed | 13/13 | 6 |
| 7. Navigation and Admin | EXISTS | passed | 9/9 | 5 |
| 8. Eazee-link Translation Fix | EXISTS | passed | 5/5 | 3 |
| 9. Tech Debt Cleanup | EXISTS | passed | 5/5 | 0 |

**Unverified phases:** None.

---

## Cross-Phase Integration (23/23 wired)

### E2E Flows (5/5 complete)

| Flow | Path | Status |
|------|------|--------|
| URL Scan | Hero CTA → /scan → UrlInput → POST /api/scan/url → getOrParseMenu → /menu/[id] → MenuShell | COMPLETE |
| QR Scan | QrScanner → qr-decoded event → UrlInput auto-submit → same URL flow | COMPLETE |
| Photo Scan | PhotoUpload → compress 1024px → POST /api/scan/photo → Vision OCR → /menu/[id] | COMPLETE |
| Menu Display + Translation | MenuShell → useLanguage → /api/translate → translateBatch → DishCard renders | COMPLETE |
| Admin Model Change | /admin → isAdminAuthenticated → AdminDashboard → saveAdminModel → admin_config update | COMPLETE |

### Integration Issues

None. All 23 requirements have verified cross-phase connections.

---

## Tech Debt (6 items, all Low/Info severity)

| Phase | Item | Severity |
|-------|------|----------|
| Phase 8 | `translateEazeeLinkDishes` — dead code, zero callers (superseded by /api/translate lazy path) | Low |
| Phase 8 | `MENU_PARSE_SYSTEM_PROMPT` — dead export (photo route uses MENU_PARSE_FAST_PROMPT) | Low |
| Phase 4 | `parseDishesFromMenu` — dead export (superseded by parseDishesFromMenuFast) | Low |
| Phase 5 | Dead import in lib/cache.ts line 13 (imports parseDishesFromMenu, never calls it) | Low |
| Phase 9 | ROADMAP.md Phase 9 bullet still unchecked | Info |
| Phase 6 | DISH-05 wording ("confirmez" vs "demandez") — semantically equivalent | Info |

**Total: 6 items. No critical blockers. All dead code from the architecture shift to fast-parse + lazy-translate.**

---

## Human Verification Items (21 total)

Accumulated from phase VERIFICATIONs. All require live environment (API keys, Supabase schema, browser):

- **Phase 4 (2):** SQL schema execution, E2E cache miss/hit flow
- **Phase 5 (5):** QR camera decode, URL paste E2E, photo OCR, cache repeat, loading indicator
- **Phase 6 (6):** Lang switching page-wide, localStorage persistence, DISH-05 wording, dietary filter speed, stacked filter AND logic, no green color in allergen UI
- **Phase 7 (5):** CTA client-side nav, /admin access gate, auth flow, model save, scan stats
- **Phase 8 (3):** E2E eazee-link translations, cache-hit translated, translation fallback

None are code gaps — all are behavioral verifications requiring live infrastructure.

---

## Previous Audit Gap Resolution

| Previous Gap | Resolution |
|-------------|-----------|
| DISH-02 partial (eazee-link bypass) | Phase 8: translateEazeeLinkDishes + /api/translate lazy path |
| Phase 5 missing VERIFICATION.md | Phase 9: Created 05-VERIFICATION.md (6/6 passed) |
| ALLOWED_MODELS duplicated | Phase 9: lib/models.ts single source of truth |
| Menu type missing hit_count/parse_time_ms | Phase 9: Fields added to Menu interface |
| REQUIREMENTS.md checkboxes outdated | Phase 9: 23/23 checked, 0 pending |

**All previous audit gaps resolved.**

---

*Audited: 2026-02-28*
*Auditor: Claude (gsd audit-milestone orchestrator)*
